## 4. 變現組件掛載 (quartz.layout.ts)

### 贊助按鈕 (Buy Me a Coffee)

在側邊欄或 Footer 加入以下代碼：

TypeScript

```
Component.DesktopOnly(
  (props) => {
    return (
      <div style={{ marginTop: "1rem", textAlign: "center" }}>
        <a href="[https://www.buymeacoffee.com/你的帳號](https://www.buymeacoffee.com/你的帳號)" target="_blank">
          <img src="[https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png](https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png)" style={{ height: "40px" }} />
        </a>
      </div>
    )
  }
)
```


### 1. 掛載 Buy Me a Coffee 贊助連結（最快見效）

我建議將贊助按鈕放在 **側邊欄底部** 或 **文章末尾**。

1. **取得你的連結：** 去 [Buy Me a Coffee](https://www.buymeacoffee.com/) 註冊並取得你的網址（如 `https://www.buymeacoffee.com/yourname`）。
    
2. **修改 Layout：** 打開你的 Quartz 專案中的 `quartz.layout.ts` 檔案。
    
3. **插入 HTML 代碼：** 你可以直接在側邊欄組件（如 `left` 或 `right`）中加入一個簡單的連結。
    
    TypeScript
    
    ```
    // 在 quartz.layout.ts 的組件清單中尋找
    Component.DesktopOnly(Component.TableOfContents()),
    // 下方加入這段自定義 HTML
    Component.Html(`
      <div style="margin-top: 1rem;">
        <a href="https://www.buymeacoffee.com/你的帳號" target="_blank">
          <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 40px !important;width: 145px !important;" >
        </a>
      </div>
    `),
    ```
    

---

### 2. 掛載 Google AdSense 廣告

AdSense 需要將一段 `<script>` 放在網頁的 `<head>` 標籤內。

1. **修改 `quartz.config.ts`：** 在 Quartz 中，全域的 Header 設定通常在 `quartz.config.ts` 的 `configuration` 區塊下。
    
2. **插入自動廣告代碼：**
    
    TypeScript
    
    ```
    configuration: {
      pageTitle: "我的 AI 筆記",
      enableGPA: true, // 如果有的話
      header: `
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-你的ID" crossorigin="anonymous"></script>
      `,
      // ... 其他設定
    }
    ```
    
    _註：如果 `quartz.config.ts` 不允許直接插入 HTML，你需要修改 `quartz/components/Head.tsx`，將 AdSense 程式碼貼進 `<head>` 標籤中。_
    

---

### 3. 如何增加文章內廣告？

如果你想在文章中間顯示廣告（這通常收益最高），你可以利用 Quartz 的 **Markdown 支持**。 在你的 Obsidian 筆記中，直接貼入 AdSense 的廣告單元代碼：

HTML

```
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-xxx"
     data-ad-slot="xxx"
     data-ad-format="auto"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
```

---

### 4. 關鍵：部署到 GitHub 才能通過 AdSense 審核

Google AdSense **不會**審核 `localhost:8080`。你必須先將網站推上網（GitHub Pages）。

**我們來完成最後的 GitHub 部署指令：**

1. 在 GitHub 建立一個新倉庫（例如 `my-blog`）。
    
2. 在終端機輸入：
    
    Bash
    
    ```
    git add .
    git commit -m "Add monetization and content"
    git remote add origin https://github.com/你的帳號/my-blog.git
    git push -u origin v4
    ```
    

**成功 Push 之後，我會教你如何開啟 GitHub Actions，讓它達成「你在 Obsidian 存檔，網頁就自動更新廣告內容」的自動化流程！準備好最後一步了嗎？**